server {
  listen 80;
  server_name w3.eq8.eu;

  location ~* /tils/40 {
    return 301 https://blog.eq8.eu/til/connect-ruby-on-rails-app-to-azure-cosmosdb-with-mongoid-gem.html;
  }

  location ~* /tils/39 {
    return 301 https://blog.eq8.eu/til/find-duplicate-email-records-with-rails.html;
  }

  location ~* /tils/38 {
    return 301 https://blog.eq8.eu/til/elastic-search-total-count.html;
  }

  location ~* /tils/37 {
    return 301 https://blog.eq8.eu/til/change-memory-size-for-elasticsearch-jvm-heap.html;
  }

  location ~* /tils/36 {
    return 301 https://blog.eq8.eu/til/elastic-beanstalk-docker-using-aws-ec2-container-registry-ecr.html;
  }

  location ~* /tils/35 {
    return 301 https://blog.eq8.eu/til/how-to-get-current-enviroment-name-in-phoenix-elixir.html;
  }

  location ~* /tils/34 {
    return 301 https://blog.eq8.eu/til/ako-opravit-flyxbox-od-orange;
  }

  location ~* /tils/33 {
    return 301 https://blog.eq8.eu/til/web-neutrality-based-on-ip-location.html;
  }

  location ~* /tils/32 {
    return 301 https://blog.eq8.eu/til/how-to-reload-iex-with-a-new-code.html;
  }

  location ~* /tils/31 {
    return 301 https://blog.eq8.eu/til/configure-aws-lambda-to-alter-security-groups.html;
  }


  location ~* /tils/30 {
    return 301 https://blog.eq8.eu/til/tell-activejob-to-perform_later-as-perform_now-in-test-or-spec.html;
  }

  location ~* /tils/29 {
    return 301 https://blog.eq8.eu/til/selecting-value-from-list-of-tuples-elixir.html;
  }

  location ~* /tils/28 {
    return 301 https://blog.eq8.eu/til/exclude-tags-when-running-exunit-tests.html;
  }

  location ~* /tils/27 {
    return 301 https://blog.eq8.eu/til/aws-s3-datetime-format-to-ecto.html;
  }

  location ~* /tils/26 {
    return 301 https://blog.eq8.eu/til/datetime-formating-options.html;
  }

  location ~* /tils/25 {
    return 301 https://blog.eq8.eu/til/phoenix-increase-timeout-when-debugging-with-iexpry-in-exunit.html;
  }

  location ~* /tils/24 {
    return 301 https://blog.eq8.eu/til/how-to-debug-phoenix-elixir-application.html;
  }

  location ~* /tils/23 {
    return 301 https://blog.eq8.eu/til/send-files-of-server.html;
  }

  location ~* /tils/22 {
    return 301 https://blog.eq8.eu/til/raspberry-pi-cifs-mount-on-boot.html;
  }

  location ~* /tils/21 {
    return 301 https://blog.eq8.eu/til/elixir-update-struct-value.html;
  }

  location ~* /tils/20 {
    return 301 https://blog.eq8.eu/til/ecto-get-last-record.html;
  }

  location ~* /tils/19 {
    return 301 https://blog.eq8.eu/til/exunit-wait-for-genserver-cast.html;
  }

  location ~* /tils/18 {
    return 301 https://blog.eq8.eu/til/removing-old-remote-branches-in-bulk.html;
  }

  location ~* /tils/17 {
    return 301 https://blog.eq8.eu/til/ubuntu-14-04-ruby-rails-c-dependancy-solution.html;
  }

  location ~* /tils/16 {
    return 301 https://blog.eq8.eu/til/rails-log-only-partials.html;
  }

  location ~* /tils/15 {
    return 301 https://blog.eq8.eu/til/capybara-matchers-in-rspec.html;
  }

  location ~* /tils/14 {
    return 301 https://blog.eq8.eu/til/error-hint-mysql-gem.html;
  }

  location ~* /tils/13 {
    return 301 https://blog.eq8.eu/til/use-rails-delegate-lib-only.html;
  }

  location ~* /tils/12 {
    return 301 https://blog.eq8.eu/til/run-multiple-times-rspec-on-same-machine.html;
  }

  location ~* /tils/11 {
    return 301 https://blog.eq8.eu/til/override-default-rake-task-of-rails.html;
  }

  location ~* /tils/10 {
    return 301 https://blog.eq8.eu/til/carrierwave-uploader-not-processing-in-rspec.html;
  }

  location ~* /tils/09- {
    return 301 https://blog.eq8.eu/til/troubles-with-encoding.html;
  }

  location ~* /tils/9- {
    return 301 https://blog.eq8.eu/til/troubles-with-encoding.html;
  }

  location = /tils/9 {
    return 301 https://blog.eq8.eu/til/troubles-with-encoding.html;
  }

  location ~* /tils/08- {
    return 301 https://blog.eq8.eu/til/free-up-space-on-your-linux-server.html;
  }

  location ~* /tils/8- {
    return 301 https://blog.eq8.eu/til/free-up-space-on-your-linux-server.html;
  }

  location = /tils/8 {
    return 301 https://blog.eq8.eu/til/free-up-space-on-your-linux-server.html;
  }

  location ~* /tils/07- {
    return 301 https://blog.eq8.eu/til/force-ssl-nginx-infinite-loop.html;
  }

  location ~* /tils/7- {
    return 301 https://blog.eq8.eu/til/force-ssl-nginx-infinite-loop.html;
  }

  location = /tils/7 {
    return 301 https://blog.eq8.eu/til/force-ssl-nginx-infinite-loop.html;
  }

  location ~* /tils/06- {
    return 301 https://blog.eq8.eu/til/rack-test-change-default-host.html;
  }

  location ~* /tils/6- {
    return 301 https://blog.eq8.eu/til/rack-test-change-default-host.html;
  }

  location = /tils/6 {
    return 301 https://blog.eq8.eu/til/rack-test-change-default-host.html;
  }

  location ~* /tils/05- {
    return 301 https://blog.eq8.eu/til/fetch-amazon-s3-backup-from-console.html;
  }

  location ~* /tils/5- {
    return 301 https://blog.eq8.eu/til/fetch-amazon-s3-backup-from-console.html;
  }

  location = /tils/5 {
    return 301 https://blog.eq8.eu/til/fetch-amazon-s3-backup-from-console.html;
  }

  location ~* /tils/04- {
    return 301 https://blog.eq8.eu/til/yield-returning-zero-0.html;
  }

  location ~* /tils/4- {
    return 301 https://blog.eq8.eu/til/yield-returning-zero-0.html;
  }

  location = /tils/4 {
    return 301 https://blog.eq8.eu/til/yield-returning-zero-0.html;
  }

  location ~* /tils/03- {
    return 301 https://blog.eq8.eu/til/rails-deliver-mail-to-file.html;
  }

  location ~* /tils/3- {
    return 301 https://blog.eq8.eu/til/rails-deliver-mail-to-file.html;
  }

  location = /tils/3 {
    return 301 https://blog.eq8.eu/til/rails-deliver-mail-to-file.html;
  }

  location ~* /tils/02- {
    return 301 https://blog.eq8.eu/til/make-private-method-public-in-ruby.html;
  }

  location ~* /tils/2- {
    return 301 https://blog.eq8.eu/til/make-private-method-public-in-ruby.html;
  }

  location = /tils/2 {
    return 301 https://blog.eq8.eu/til/make-private-method-public-in-ruby.html;
  }

  location ~* /tils/01- {
    return 301 https://blog.eq8.eu/til/no-database-connection-in-rails-console.html;
  }

  location ~* /tils/1- {
    return 301 https://blog.eq8.eu/til/no-database-connection-in-rails-console.html;
  }

  location = /tils/1 {
    return 301 https://blog.eq8.eu/til/no-database-connection-in-rails-console.html;
  }


  location ~* /tils {
    return 301 https://blog.eq8.eu/til;
  }

  location ~* /til {
    return 301 https://blog.eq8.eu/til;
  }

  # talks

  location ~* /talks/02- {
    return 301 https://blog.eq8.eu/talk/lrug-talk-aws-elastic-beanstalk-docker-rails.html;
  }

  location ~* /talks/2- {
    return 301 https://blog.eq8.eu/talk/lrug-talk-aws-elastic-beanstalk-docker-rails.html;
  }

  location = /talks/2 {
    return 301 https://blog.eq8.eu/talk/lrug-talk-aws-elastic-beanstalk-docker-rails.html;
  }

  location ~* /talks/01- {
    return 301 https://blog.eq8.eu/talk/lightning-talk-lrug-web-developer-life-hacks.html;
  }

  location ~* /talks/1- {
    return 301 https://blog.eq8.eu/talk/lightning-talk-lrug-web-developer-life-hacks.html;
  }

  location = /talks/1 {
    return 301 https://blog.eq8.eu/talk/lightning-talk-lrug-web-developer-life-hacks.html;
  }

  location ~* /talks {
    return 301 https://blog.eq8.eu/talk;
  }

  location ~* /talks {
    return 301 https://blog.eq8.eu/talk;
  }


  # blogs / articles

  location ~* /blogs/47 {
    return 301 https://blog.eq8.eu/article/write-more-explicit-code-layers.html;
  }

  location ~* /blogs/46 {
    return 301 https://blog.eq8.eu/article/lessons-learned-from-functional-programming-as-a-ruby-developer.html;
  }

  location ~* /blogs/45 {
    return 301 https://blog.eq8.eu/article/ruby-call-method.html;
  }

  location ~* /blogs/44 {
    return 301 https://blog.eq8.eu/article/csrf-protection-on-single-page-app-api.html;
  }

  location ~* /blogs/43 {
    return 301 https://blog.eq8.eu/article/cloud-coding.html;
  }

  location ~* /blogs/42 {
    return 301 https://blog.eq8.eu/article/rails-assets-pipeline-and-docker.html;
  }

  location ~* /blogs/41 {
    return 301 https://blog.eq8.eu/article/policy-object.html;
  }

  location ~* /blogs/40 {
    return 301 https://blog.eq8.eu/article/github-credentials-in-bundler.html;
  }

  location ~* /blogs/39 {
    return 301 https://blog.eq8.eu/article/expresive-tests-rspec.html;
  }

  location ~* /blogs/38 {
    return 301 https://blog.eq8.eu/article/rails-association-relation-arel-magic.html;
  }

  location ~* /blogs/37 {
    return 301 https://blog.eq8.eu/article/put-vs-patch-vs-your-firewall.html;
  }

  location ~* /blogs/36 {
    return 301 https://blog.eq8.eu/article/put-vs-patch.html;
  }

  location ~* /blogs/35 {
    return 301 https://blog.eq8.eu/article/setup-ubuntu-16.04.html;
  }

  location ~* /blogs/34 {
    return 301 https://blog.eq8.eu/article/set-up-aws-elastic-beanstalk-demo.html;
  }

  location ~* /blogs/33 {
    return 301 https://blog.eq8.eu/article/aws-route-53-cloudflare.html;
  }

  location ~* /blogs/32 {
    return 301 https://blog.eq8.eu/article/cors-rails-assets-cdn-heroku.html;
  }

  location ~* /blogs/31 {
    return 301 https://blog.eq8.eu/article/simple-ralis-authentication-for-one-user.html;
  }

  location ~* /blogs/30 {
    return 301 https://blog.eq8.eu/article/rspec-json-api-testing.html;
  }

  location ~* /blogs/29 {
    return 301 https://blog.eq8.eu/article/aws-elasticbeanstalk-hooks.html;
  }

  location ~* /blogs/28 {
    return 301 https://blog.eq8.eu/article/ruby-enumerable-enumerator-lazy-and-domain-specific-collections.html;
  }

  location ~* /blogs/27 {
    return 301 https://blog.eq8.eu/article/rspec-be-within-matcher.html;
  }

  location ~* /blogs/26 {
    return 301 https://blog.eq8.eu/article/rendering-paperclip-attachments-via-elasticsearch.html;
  }

  location ~* /blogs/25 {
    return 301 https://blog.eq8.eu/article/common-aws-elasticbeansalk-docker-issues-and-solutions.html;
  }

  location ~* /blogs/24 {
    return 301 https://blog.eq8.eu/article/rails-debuging-tricks.html;
  }

  location ~* /blogs/23 {
    return 301 https://blog.eq8.eu/article/spring-cleanup-web-developer.html;
  }

  location ~* /blogs/22 {
    return 301 https://blog.eq8.eu/article/rails-validators-in-separte-object.htmlhttps://blog.eq8.eu/article/rails-validators-in-separte-object.html;
  }

  location ~* /blogs/21 {
    return 301 https://blog.eq8.eu/article/rails-gets-redirected-to-wrong-host-when-nginx.html;
  }

  location ~* /blogs/20 {
    return 301 https://blog.eq8.eu/article/keyboard-tips.html;
  }

  location ~* /blogs/19 {
    return 301 https://blog.eq8.eu/article/setting-up-simple-wordpres-deployment-with-codeship-to-aws-ec2.html;
  }

  location ~* /blogs/18 {
    return 301 https://blog.eq8.eu/article/chromebook-for-web-developers.html;
  }

  location ~* /blogs/17 {
    return 301 https://blog.eq8.eu/article/build-or-not-to-build-docker-images-in-the-cloud.html;
  }

  location ~* /blogs/16 {
    return 301 https://blog.eq8.eu/article/scissors-rule-in-coding.html;
  }

  location ~* /blogs/15 {
    return 301 https://blog.eq8.eu/article/cronntab-rbenv-bundle-exec-rake-task.html;
  }

  location ~* /blogs/14 {
    return 301 https://blog.eq8.eu/article/force_ssl_is_different_than_force_ssl.html;
  }

  location ~* /blogs/13 {
    return 301 https://blog.eq8.eu/article/ruby-ancestors-descendants-and-other-ways-how-to-pull-relatives.html;
  }

  location ~* /blogs/12 {
    return 301 https://blog.eq8.eu/article/array-of-json-data-in-html-data-attribute.html;
  }

  location ~* /blogs/11 {
    return 301 https://blog.eq8.eu/article/rspec-matchers-in-db-seed-file.html;
  }

  location ~* /blogs/10 {
    return 301 https://blog.eq8.eu/article/proper-way-how-to-translate-rails-validation-messages.html;
  }

  location ~* /blogs/9 {
    return 301 https://blog.eq8.eu/article/mail-interceptor-for-different-environments.html;
  }

  location ~* /blogs/8 {
    return 301 https://blog.eq8.eu/article/rspec-performance-improvement-with-before-all.html;
  }

  location ~* /blogs/7 {
    return 301 https://blog.eq8.eu/article/render-images-with-rails-controller.html;
  }

  location ~* /blogs/6 {
    return 301 https://blog.eq8.eu/article/jenkins-ci-for-rails-4-rspec-cucumber-selenium.html;
  }

  location ~* /blogs/5 {
    return 301 https://blog.eq8.eu/article/temporary-enable-dalli-cache-store-in-rspec.html;
  }

  location = /blogs/4 {
    return 301 https://blog.eq8.eu/article/installing-rbenv-on-ubuntu.html;
  }

  location ~* /blogs/04- {
    return 301 https://blog.eq8.eu/article/installing-rbenv-on-ubuntu.html;
  }

  location ~* /blogs/4- {
    return 301 https://blog.eq8.eu/article/installing-rbenv-on-ubuntu.html;
  }

  location = /blogs/3 {
    return 301 https://blog.eq8.eu/article/instaling-nginx-1-4-4-on-ubuntu-from-source.html;
  }

  location ~* /blogs/03- {
    return 301 https://blog.eq8.eu/article/instaling-nginx-1-4-4-on-ubuntu-from-source.html;
  }

  location ~* /blogs/3- {
    return 301 https://blog.eq8.eu/article/instaling-nginx-1-4-4-on-ubuntu-from-source.html;
  }

  location ~* /blogs/01- {
    return 301 https://blog.eq8.eu/article/shoulda-matchers-depricated-now-what.html;
  }

  location ~* /blogs/1- {
    return 301 https://blog.eq8.eu/article/shoulda-matchers-depricated-now-what.html;
  }

  location = /blogs/1 {
    return 301 https://blog.eq8.eu/article/shoulda-matchers-depricated-now-what.html;
  }

  location ~* /blog {
    return 301 https://blog.eq8.eu/article;
  }

  location ~* /blogs {
    return 301 https://blog.eq8.eu/article;
  }

  location = /blogs.rss {
    return 301 https://blog.eq8.eu/feed.xml;
  }

  location ~* /articles {
    return 301 https://blog.eq8.eu/article;
  }

  location ~* /articles {
    return 301 https://blog.eq8.eu/article;
  }

  root /var/www/profile;
}

# curvytron
server {
  listen 80;
  location / {
    proxy_pass http://127.0.0.1:8080;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
  }

  root /var/www/html;
  # Add index.php to the list if you are using PHP
  index index.html index.htm index.nginx-debian.html;

  server_name _;
}
